var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,l=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))i.call(t,n)&&c(e,n,t[n]);return e};import{R as s,r as m,v as o,a as d}from"./vendor.700a6feb.js";const p=({name:e,amount:t})=>s.createElement(s.Fragment,null,s.createElement("span",null,e),s.createElement("span",null,t)),u=({ingredients:e})=>s.createElement("div",{className:"ingredient-grid"},e.map((e=>s.createElement(p,l({key:e.id},e))))),E=({id:e,name:t,cookTime:n,servings:a,instructions:r,ingredients:i})=>{const c=m.exports.useContext(_);return s.createElement("div",{className:"recipe"},s.createElement("div",{className:"recipe__header"},s.createElement("h3",{className:"recipe__title"},t),s.createElement("div",{className:"btn-action-group"},s.createElement("button",{className:"btn btn--success",onClick:()=>c.editRecipe(e)},"Edit"),s.createElement("button",{className:"btn btn--danger",onClick:()=>c.deleteRecipe(e)},"Delete"))),s.createElement("div",{className:"recipe__row"},s.createElement("span",{className:"recipe__label"},"Cook Time:"),s.createElement("span",{className:"recipe__value"},n)),s.createElement("div",{className:"recipe__row"},s.createElement("span",{className:"recipe__label"},"Servings:"),s.createElement("span",{className:"recipe__value"},a)),s.createElement("div",{className:"recipe__row"},s.createElement("span",{className:"recipe__label"},"Instructions:"),s.createElement("div",{className:"recipe__value recipe__value--intended recipe__instructions"},r)),s.createElement("div",{className:"recipe__row"},s.createElement("span",{className:"recipe__label"},"Ingredients:"),s.createElement("div",{className:"recipe__value recipe__value--intended"},s.createElement(u,{ingredients:i}))))};const g=({recipes:e})=>{const t=m.exports.useContext(_);return s.createElement("div",{className:"recipe-list"},s.createElement("div",{className:"recipe-list__recipes"},e.map((e=>s.createElement(E,l({key:e.id},e))))),s.createElement("div",{className:"recipe-list__add-btn-recipe-container"},s.createElement("button",{className:"btn btn--primary btn--large",onClick:t.addRecipe},"Add Recipe")))};const v=({ingredient:e,ingredientChange:t,deleteIngredient:n})=>{function a(n){t(e.id,l(l({},e),n))}return s.createElement(s.Fragment,null,s.createElement("input",{type:"text",value:e.name,onInput:e=>a({name:e.target.value})}),s.createElement("input",{type:"text",value:e.amount,onInput:e=>a({amount:e.target.value})}),s.createElement("button",{className:"btn btn--danger",onClick:()=>n(e.id)},"×"))},b=({recipe:e})=>{const{recipeChange:t,editRecipe:n}=m.exports.useContext(_),{id:a,name:r,cookTime:i,servings:c,instructions:d,ingredients:p}=e;function u(n){t(a,l(l({},e),n))}function E(e,t){const n=[...p],a=n.findIndex((t=>t.id===e));n[a]=t,u({ingredients:n})}function g(t){u({ingredients:e.ingredients.filter((e=>e.id!==t))})}return s.createElement("div",{className:"recipe-form"},s.createElement("div",{className:"recipe-header"},s.createElement("h3",null,"Recipe Form"),s.createElement("button",{className:"btn btn--danger",onClick:()=>n(void 0)},"×")),s.createElement("div",{className:"recipe-form__content"},s.createElement("label",{htmlFor:"name"},"Name"),s.createElement("input",{type:"text",id:"name",name:"name",value:r,onInput:e=>u({name:e.target.value}),placeholder:"Recipe Name"}),s.createElement("label",{htmlFor:"cookTime"},"Cook Time"),s.createElement("input",{type:"text",id:"cookTime",name:"cookTime",value:i,onInput:e=>u({cookTime:e.target.value}),placeholder:"H:mm"}),s.createElement("label",{htmlFor:"servings"},"Servings"),s.createElement("input",{type:"text",name:"servings",id:"servings",value:c,onInput:e=>u({servings:parseInt(e.target.value)||""}),placeholder:"0"}),s.createElement("label",{htmlFor:"instructions"},"Instructions"),s.createElement("textarea",{name:"instructions",id:"instructions",rows:"5",value:d,onInput:e=>u({instructions:e.target.value}),placeholder:"Recipe instructions"})),s.createElement("label",null,"Ingredients"),s.createElement("div",{className:"recipe-form__ingredients"},s.createElement("div",null,"Name"),s.createElement("div",null,"Amount"),s.createElement("div",null),p.map((e=>s.createElement(v,{key:e.id,ingredientChange:E,ingredient:e,deleteIngredient:g})))),s.createElement("div",{className:"btn-content"},s.createElement("button",{className:"btn btn--primary btn--large",onClick:function(){const t={id:o(),name:"",amount:""};u({ingredients:[...e.ingredients,t]})}},"Add Integredient")))},_=m.exports.createContext(),N=()=>{const[e,a]=m.exports.useState(),[r,i]=m.exports.useState(k),c=r.find((t=>t.id===e));m.exports.useEffect((()=>{const e=localStorage.getItem("recipelogs.recipes");null!=e&&i(JSON.parse(e))}),[]),m.exports.useEffect((()=>{localStorage.setItem("recipelogs.recipes",JSON.stringify(r))}),[r]);const d={addRecipe:function(){const e=o(),c=(s=l({},f),m={id:e},t(s,n(m)));var s,m;a(c.id),i([...r,c])},deleteRecipe:function(t){null!==e&&e===t&&a(void 0);i(r.filter((e=>e.id!==t)))},editRecipe:function(e){a(e)},recipeChange:function(e,t){const n=[...r],a=n.findIndex((t=>t.id===e));n[a]=t,i(n)}};return s.createElement(_.Provider,{value:d},s.createElement("div",{className:"container__recipe"},s.createElement(g,{recipes:r})),s.createElement("div",{className:"container__recipe-edit"},c&&s.createElement(b,{recipe:c})))},k=[{id:o(),name:"Plain Chicken",servings:3,cookTime:"1:45",instructions:"1. Put salt on chicken\n2. Put chicken in oven\n3. Eat chicken.",ingredients:[{id:o(),name:"Chicken",amount:"2 kg"},{id:o(),name:"Salt",amount:"1 Tbs"}]},{id:o(),name:"Plain Pork",servings:3,cookTime:"1:45",instructions:"1. Put salt on pork\n2. Put pork in oven\n3. Eat pork.",ingredients:[{id:o(),name:"Pork",amount:"1 kg"},{id:o(),name:"Salt",amount:"2 Tbs"}]}],f={name:"New Recipe",servings:0,cookTime:"",instructions:"",ingredients:[{id:o(),name:"",amount:""},{id:o(),name:"",amount:""}]};d.render(s.createElement(N,null),document.getElementById("root"));
